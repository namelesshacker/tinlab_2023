\chapter{Introduction}
\label{chapter:Introduction}
\thispagestyle{myheadings}

\section{A few remarks before you start}
\label{sec:history}

Please read the short pointers below and on the subsequent pages; this will help
you avoid frustrations when submitting the final dissertation to the library.

Your thesis should have 1.5in left and top margins, and 1in right and bottom
margins. Getting this right is tricky since it may depend on your particular
Latex installation. Most likely you will need to adjust some of the dimensions
set up at the beginning of "bu\_ece\_thesis.sty" in this folder. Basically,
every installation should have the base margin of 1in at the left and top, but
this is not always the case. For example, the TexStudio/MiKTeX installation this
document was set up on, has the default top margin of 0.3125in and so an
additional margin of 0.6875in was added via $\backslash${topmargin}. In order to
adjust these dimensions, you may want to follow these steps:

\begin{itemize}
	\item compile the document into PDF,
	\item open the document in Acroread, set it to full-page viewing and
		magnification to 100\%
	\item navigate to a "full" page with the text extending from the very
		top to the very bottom and full-width left to right,
	\item measure the margins and adjust accordingly,
	\item if you are planning to print a hardcopy, you need to make sure
		to select "Page scaling" to "None" in Acrobat.
\end{itemize}

Another issue that BU librarians may complain about and you are likely to encounter
are long URLs or other unbreakable text. In case of long URL addresses, you
should use the URL package; please see suitable documentation on-line.

However, if you encounter a long unbreakable word (e.g., foreign) the URL
package does not help. Have a look at the example extending into the page
margin:

\bigskip

{\it Consider the following Java-JDT plugin name in German: "`Plugin-Entwicklungsumgebung"'.}

\bigskip

Clearly, this is a problem, and BU librarians will complain. One way of fixing
this issue is to enclose the offending paragraph in {\tt
	$\backslash$begin\{sloppypar\}} and {\tt $\backslash$end\{sloppypar\}},
resulting in the following outcome:

\bigskip

\begin{sloppypar}
	{\it Consider the following Java-JDT plugin name in German:
		"`Plugin-Entwicklungsumgebung"'.}
\end{sloppypar}

\bigskip

Indeed, although the paragraph spacing becomes sloppy, at least you can hand in
the thesis!


LaTeX has a steep learning curve. You can use the original book by Lamport to
learn more \cite{lamport1985:latex}, but there are many on-line resources with
excellent instructions and examples. Just Google a LaTeX topic you would like to
explore.

As far as editing and compilation of LaTeX sources, if you have not found one
yet, TexStudio seems to be quite popular.


\chapter{Voorwoord}
Men mag niet vergeten dat niets moeilijker te plannen is, een twijgfelachtiger kans van slagen heeft of gevaarlijker te beheren is dan de totstandbrenging van een nieuw systeem. Want de initiatiefnemer krijgt alle animositeit over zich van eenieder die profijt heeft bij het behoud van het oude instituut en slechts halfhartige medestand van hen die beter af zijn met het nieuwe. Machiavelli, The prince
%\input{inleiding}    %(verplicht) inleiding
%\hoofdstuk{Inleiding}
\chapter{Inleiding}
\section{Achtergrond}
 		Het ministerie van verkeer en Waterstaat wil in het kader van het klimaatakkoord en onderzoek laten uitvoeren naar de staat van het sluizenpark in Nederland. Het onderzoek moet zich richten op het ontwerpen en ontwikkelen van een geautomatiseerd sluismodel dat geschikt is voor een brede toepassing. In het onderzoek moet naar voren komen wat de huidige staat is van de sluizen met oog op veiligheid, efficiëntie, capaciteit, onderhoud, duurzaamheid en automatisering. Het onderzoek geeft aan hoe een volledig model worden opgeleverd opdat ontwerp van verschillend volledig geautomatiseerde sluizen in de toekomst geautomatiseerd kunnen worden.  

Het probleem is nog niet opgelost vanwege de volgende redenen:
\begin{enumerate}
	\item Geen kennis van het product. 
	\item Het verdienmodel is nog  niet rendabel gebleken vanuit het perspectief van Engineernig spirit. 
\end{enumerate}

\begin{enumerate}
	\item Bij een toename van installaties op verschillende locaties zijn de volgende problemen te verwachten:
	\item Het verdienmodel is nog  niet rendabel gebleken vanuit het perspectief van Engineernig spirit. 
	\item  Aansturen van alle apparaten
	\item reistest
	\item probleemanalyse op afstand
\end{enumerate}

\section{Urgentie}
In  het  kader  van  het  onlangs  afgesloten  klimaatakkoord  heeft  de  Nederlandseoverheid  daarom  besloten  over  te  gaan  tot  een  ingrijpende  renovatie  van  dediverse  sluizen  die  ons  land  rijk  is.    


\section{Gewenste resultaat}
			Wij vragen u een model (of een onderling samenhangend aantal modellen)aan  te  leveren,  opdat  ontwerpen  van  verschillende,  volledig  geautomatiseerdesluizen in de toekomst gerealiseerd kunnen worden. 
Zoals  gesteld  in  de  brief  is  het  de  bedoeling  dat  een  sluis  gemodelleerd  wordten  dat  bewezen  kan  worden  dat  de  te  bouwen  sluis  een  aantal  eigenschappenbezit.  

 

\section{Opdracht}


De opdracht bestaat uit twee delen: Het selecteren van een platform voor ontvangen van en visualisatie van (IoT-)data.	Met het uiteindelijk gekozen platform moet dan een voorbeeld implementatie gemaakt voor de verwarmingsketel.
Voor de platformkeuze: Er is nu geen platform, en we willen 'standaard' platform geselecteerd hebben, waar we inzicht in de mogelijkheden hebben en kunnen inschatten hoe lang een implementatie zal gaan duren.

De test-implementatie kan met eenvoudige data, of gesimuleerde data gemaakt. 
\section{Probleemomschrijving}


Na grondige analyse van het Nederlandse sluizenpark is gebleken dat renovatie van een groot aantal sluizen noodzakelijk is.  Uit een eerste verkenning is gebleken  dat het gecombineerd renoveren en automatiseren van het Nederlandsesluizenpark een aanzienlijke verbetering kan opleveren t.a.v. 
Op  het  ministerie  van  infrastructuur  enwaterstaat is helaas onvoldoende kennis van ict en systemen aanwezig om eenen ander uit te voeren 


\section{probleemstelling}
Omdat er geen dedicated  implementatie voorhanden is voor een ESP32 device moet er een IoT cloud platform is dat geschikt voor industriële toepassingen als deze in staat is 1000 tot 5000 devices op minimaal 4 gebruikersniveaus te managen met bi-directionele communication worden gevonden en aangesloten.

\section{Onderzoeksvragen}
Onderzoeksvragen

Er moet een onderzoeksverslag worden opgeleverd met de beschikbare IoT cloud oplossingen en een motivatie waarom een specifiek platform gekozen is. De geformuleerde hoofdvraag is:
Welk IoT platform voldoet aan de minimaal gestelde eisen (door Engineering Spirit), én is redelijk eenvoudig door een programmeur van een dashboard en gebruikersinterface te voorzien?
De hoofdvraag wordt beantwoord aan de hand van de volgende deelvragen




\begin{enumerate}
	\item Uit het onderzoek zal moeten blijken welke veiligheidseisen er zijn voor sluizen in nederland. 
	\item Daarnaast welke factoren een rol spelen in de duurzaamheid van het sluizenpark.  
	\item Hoe wordt de routinecontrole op de sluizen uitgevoerd?  
	\item Welke automatisering is mogelijk met oog op veiligheid, efficientie en capaciteit?  
	\item Welke criteria wegen zwaar in de ontwikkel- en onderhoudskosten van duurzame technologie?
\end{enumerate}



\section{Scope}
	He gaat om het simuleren van een geautomatiseerde sluis. Wat voor type sluis wordt niet gemeld en ook niet uit welke onderdelen. Belangrijk is dat het model werkt en dat het voldoet aan de eisen die gebaseerd zijn op basis van literatuuronderzoek, observatie, interviews, brainstorming of een andere vorm van requirements elicitation.


\section{Afbakening}


Er is een security aspect maar dat is geen onderdeel van deze studie, ook al kan dit grote impact hebben op het in bedrijf stellen van het systeem.

In het onderzoek wordt niet de huidige staat van de hardware meegenomen en ook mogelijke alternatieven 



\section{Design goals}
Het systeem moet minimaal aan de volgende prestatie eisen voldoen 

\begin{enumerate}
	\item User management
	\begin{enumerate}
		\item User management, Ook het User management is op verschillende manieren op te vatten. Daarbij wordt door de opdrachtgever gevraagd dat een platform de functionaliteit ondersteund gebruikers als beheerder met het recht om alles te wijzigen, of een medewerker met beperkingen. Een beheerder kan:
		\item Multi-tenancy implementeren: Organisties, gebruikers en rollen koppelen aan dashboard, asset met een device of een groep devices, waarbij iedereen kan inloggen met bepaalde rechten/privileges
		\item Een organisatie wijzigen via een dashboard of via een api
		\item Privileges delegeren aan een organisatie met een eigen database en dashboard
	\end{enumerate}
	\item Data
	\begin{enumerate}
		\item De gegevensverzameling van een organisatie wordt centraal opgeslagen.
		Van een organisatie alle medewerkers en hun taken en devices exporteren
	\end{enumerate}
	\item Uitbreidbaarheid     
	\begin{enumerate}
		\item Een dashboard aanpassen voor een specifieke organisatie, white labeling
		\item Het platform heeft een dashboard waarin widgets op html/css code kan worden toegevoegd.
		\item De opdrachtgever vindt de flexibiliteit van het dashboard belangrijk, dus  open-source en closed source zijn relevante eigenschappen van het gewenste platform.
	\end{enumerate}
	\item Visualisatie
	\item Het platform heeft een datalogger waarmee de recente waarden van een sensor kunnen worden opgevraagd.
	\item Het platform heeft een trendplot waarin de historische en de real-time data worden gevisualiseerd.
	\item Alarmering/notificatie
	\item Het platform ondersteund mogelijkheden om rules in te bouwen met daarin voorwaarden voor het versturen van een melding/notificatie per email.
	\item Programmeertaal
	\begin{enumerate}
		\item De cloud applicatie wordt geprogrammeerd met imperatieve of gecompileerde programmeertalen. c/c++/c#.Java
	\end{enumerate}
	\item IoT device
	\begin{enumerate}
		\item Thingsboard.cloud kan max 65 kb data in een payload  verzenden over MQTT 
		\item Implementatie moet met FreeRTOS 
		\item Data Versturen vanaf de server naar het device moet binnen 30 seconden worden ontvangen
		\item Opstarttijd van het systeem mag enkele minuten duren 
		\item Opstarten moet gebruiksvriendelijk zijn 
		\item Systeem kan werken in AP mode en STA mode
		\item De firmware wordt geprogrammeerd met imperatieve of gecompileerde programmeertalen. c/c++
		\item Systeem heeft webserver met daarop pagina voor systeemconfiguraties zoals wifi
		\item Het systeem kan Inloggegevens Voor wifi en IoT Cloud platform kunnen opslaan,opvragen en bewerken in spiffs
		\item Het systeem kan de status van internetverbinding monitoren en herstelpoging uitvoeren bij verlies van internetverbinding
		\item Het systeem kan Kan data opvragen van andere sensoren
		\item Het systeem kan alleen informatie sturen naar de cloud met een geldige autorisatie code
		\item Kan een message opstellen in JSON formaat met relevant data
		\item Een monteur van een CV-installatie kan een commando versturen van een dashboard naar een IoT device
		\item De zender van de commando krijgt feedback over het resultaat van de verzonden commando
	\end{enumerate}
	
\end{enumerate}
Voor meer informatie over de diverse rollen in een organisatie zie (User Roles, Types En Permissions, n.d., #)


Beperking



ID 
beperking 
1 
Thingsboard.cloud kan max 65 kb data in een payload  verzenden over MQTT 
2 
Implementatie moet met FreeRTOS 
3 
Data Versturen vanaf de server naar het device moet binnen 30 seconden worden ontvangen 
4 
Opstarttijd van het systeem mag enkele minuten duren 
5 
Opstarten moet gebruiksvriendelijk zijn 
6 
De gebruiker wil via het dashboard een hiërarchisch-level user management systeem kunnen inrichten voor een organisatie. 
7 
Het platform moet aanpasbaar zijn en indien nodig ook ondersteuning bieden voor een web-based dashboard oplossing. 
8 
De opdrachtgever vindt de flexibiliteit van het dashboard belangrijk, dus  open-source en closed source zijn relevante eigenschappen van het gewenste platform. 



\section{Leeswijzer}
In  de methodologie wordt de lezer uitgelegd met welke methoden de onderzoeksvragen zijn beantwoord. In het hoofdstuk Onderzoek worden alle resultaten behandeld die naar voren zijn gekomen bij het deskresearch. De analyse van de verzamelde data wordt gedaan in het hoofdstuk analyse. Hierin wordt behandeld zoekopdracht naar IoT cloud platforms, feature extractie, prijs-berekening en prijs-feature vergelijking. In het ontwerp komen de uml diagrammen en systeemschetsen naar voren. In de  de hoofdstukken Prototype, IoT cloud en Firmware wordt de implementatie behandeld van het IoT cloud platform in een bestaand project.





%	\input{Methoden} %(verplicht) hoofdverslag
%\hoofdstuk{methoden}